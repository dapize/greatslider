"use strict";!function(C){C.fn.greatSlider=function(e){function f(e){e.addClass(y.itemLoaded.substr(1)),setTimeout(function(){e.removeClass(y.itemLoading.substr(1))},500)}var h=this;if(!h.length)return console.error("* Great Slider [Logger] : No existe el contenedor maestro para hacer el slider.");var g={type:"fade",nav:!0,navSpeed:500,items:1,slideBy:1,bullets:!0,autoplay:!1,autoplaySpeed:5e3,log:!1,lazyLoad:!0,lazyClass:"gs-lazy",lazyAttr:"data-lazy",layout:{containerItems:".gs-container-items",wrapperItems:".gs-wrapper-items",item:".gs-item-slider",itemActive:".gs-item-active",itemLoading:".gs-item-loading",itemLoaded:".gs-item-loaded",containerNavs:".gs-container-navs",wrapperArrows:".gs-wrapper-arrows",arrow:".gs-arrow-nav",arrowPrev:".gs-prev-arrow",arrowNext:".gs-next-arrow",wrapperBullets:".gs-wrapper-bullets",bullet:".gs-bullet",bulletActive:".gs-bullet-active",noneClass:"gs-none",attachedClass:"gs-attached"}};void 0!==e&&C.extend(g,e),"fade"==g.type&&delete g.breakPoints;var r=C.extend({},g);delete r.breakPoints,delete r.layout;var n=0,s=void 0,o=void 0,y=g.layout,b=h.find(y.item),x=b.length,u=y.attachedClass.substr(1),i=y.noneClass,l=[],w=void 0,v=0,t={init:function(e){var i=this;if((w=e).slideBy>e.items)return this.log({type:"err",text:"No es posible determinar que el pase por frame ("+e.slideBy+") sea mayor al mostrado de items ("+e.items+").",required:!0}),!1;if(this.items(e),this.bullets(e),this.navs(e),h.hasClass(u))return!1;h.addClass(u);var t=g.onInit;void 0!==t&&t(),this.log({type:"not",text:"Slider Inicializandoce."});var s=e.breakPoints;void 0!==s&&(i.breakPoints(s,window.innerWidth),o=!1,C(window).resize(function(){!1!==o&&clearTimeout(o),o=setTimeout(function(){var e=window.innerWidth,t=g.onResized;void 0!==t&&t(e),i.breakPoints(s,e)},750)}));var a=g.onInited;void 0!==a&&a(),this.log({type:"not",text:"Slider Inicializado."});var r=e.startPosition;if(void 0!==r){if(x<r)return this.log({type:"err",text:'No es posible iniciar en el item con posición "'+r+'" ya que esa posición sobrepasa el numero total de items existentes.',required:!0});this.goTo(r,!0)}e.autoplay&&this.play(e)},items:function(s){var a=this,r=h.find(y.wrapperItems),n=r.find(y.item);$firstItem=n.eq(0),iActivePure=y.itemActive.substr(1);var e={fade:function(){if(r.hasClass("gs-transition-fade"))return!1;r.addClass("gs-transition-fade"),$firstItem.addClass(iActivePure),s.lazyLoad&&a.loadLazy($firstItem)},swipe:function(){r.hasClass("gs-transition-swipe")||r.addClass("gs-transition-swipe");var e=s.items;if(r.css("width",100*x/e+"%"),b.css("width",100/x+"%"),s.lazyLoad)for(var t=0;t<e;)a.loadLazy(n.eq(t)),t++;var i=r.find(y.itemActive);i.length?i.index()<e-1?n.eq(e-1).addClass(iActivePure).siblings().removeClass(iActivePure):a.goTo(i.index()+1,!0):n.eq(e-1).addClass(iActivePure).siblings().removeClass(iActivePure)}}[s.type];void 0!==e?e(s):this.log({type:"err",text:"el tipo de slider determinado no es válido",required:!0})},bullets:function(o,e){var t=this,l=h.find(y.wrapperBullets);if(!o.bullets)return l.hasClass(i)||l.addClass(i),!1;l.hasClass(i)&&l.removeClass(i);var d=y.bulletActive.substr(1);({constructor:function(){var e=l.find(y.bullet),t=e.prop("tagName").toLowerCase(),i="",s="fade"==o.type?x:x/o.items;if(s%1!=0&&(s=Math.floor(s)+1),e.length==s)return this.active(),!1;for(var a=0,r=this.active(!0);a<s;){var n=a!==r?"":" "+d;i+="<"+t+' class="'+y.bullet.substr(1)+n+'"></'+t+">",a++}l.html(i)},active:function(e){var t=h.find(y.wrapperItems+" "+y.itemActive).index(),i=y.bulletActive.substr(1),s=(t+1)/o.items;if(s%1!=0&&(s=Math.floor(s)+1),s-=1,e)return s;var a=h.find(y.bullet).eq(s);a.hasClass(i)||a.addClass(i).siblings().removeClass(i)},nav:function(){if(l.hasClass(u))return!1;l.addClass(u),l.on("click",y.bullet,function(){if(C(this).hasClass(d))return!1;C(this).addClass(d).siblings().removeClass(d);var e=(C(this).index()+1)*w.items;x<e&&(e=x),t.goTo(e)})},init:function(){this.constructor(),this.nav()}})[null==e?"init":e]()},navs:function(){var e=this,t=h.find(y.wrapperArrows);if(w.nav?t.hasClass(i)&&t.removeClass(i):t.hasClass(i)||t.addClass(i),t.hasClass(u))return!1;t.addClass(u),h.find(y.arrow).on("click",function(){e.goTo(C(this).hasClass(y.arrowNext.substr(1))?"next":"prev",w)})},loadLazy:function(u){var e=u.find("."+g.lazyClass);if(!e.length)return!1;var t=u.index(),i=g.onLoadingItem,s=g.onLoadedItem,c=y.itemLoaded.substr(1);e.each(function(){var n=C(this),o=n.attr(g.lazyAttr),d={img:function(){void 0!==o&&(u.addClass(y.itemLoading.substr(1)),void 0!==i&&i(n,t),n.attr("src",o).one({load:function(){void 0!==s&&s(n,t,"success"),f(u)},error:function(){void 0!==s&&s(n,t,"error"),f(u)}}).removeAttr(g.lazyAttr))},video:function(){u.hasClass(c)?n.get(0).play():(u.addClass(y.itemLoading.substr(1)),void 0!==i&&i(n,t),void 0!==o?n.attr("src",o).removeAttr(g.lazyAttr):n.find("source").each(function(){C(this).attr("src",C(this).attr(g.lazyAttr)).removeAttr(g.lazyAttr)}),n.get(0).load(),function e(t,i){var s=g.onLoadedItem;if(20<=(v+=.25))return void 0!==s&&s(i,t.index(),"error"),f(t),!1;var a=i.get(0);4==a.readyState?(a.play(),f(t),void(v=0)!==s&&s(i,t.index(),"success")):setTimeout(function(){e(t,i)},250)}(u,n))},iframe:function(){if(u.hasClass(c)){var e=n.attr("src");if(-1!==e.indexOf("youtu"))n.get(0).contentWindow.postMessage('{"event":"command","func":"playVideo","args":""}',"*");else if(-1!==e.indexOf("vimeo")){new Vimeo.Player(n).play()}}else if(-1!==o.indexOf("youtu")){var t=void 0,i=void 0;if(-1!==o.indexOf("watch")&&(i=o.substr(o.indexOf("=")+1,11),t=o.substr(o.indexOf("=")+12)),-1!==o.indexOf("youtu.be")&&(i=o.substr(o.lastIndexOf("/")+1,11),t=(t=o.substr(o.lastIndexOf("/")+12)).substr(1)),-1!==o.indexOf("embed")&&(i=o.substr(o.lastIndexOf("/")+1,11),t=(t=o.substr(o.lastIndexOf("/")+12)).substr(1)),"&"==t.substring(0,1)&&(t=t.substr(1)),-1==t.indexOf("rt=")&&-1!==t.indexOf("t="))if(-1!==(t=t.replace("t=","start=")).indexOf("&")){var l=[];C.each(t.split("&"),function(e,t){var i=t.split("=");if("start"==i[0]){var s=i[1],a=s.indexOf("m"),r=s.indexOf("s"),n=0,o=0;-1!==a?(n=60*Number(s.substring(0,a)),a+=1):a=0,-1!==r&&(o=Number(s.substring(a,r))),l.push("start="+(n+o))}else l.push(t)}),t=l.join("&")}else t=t.substring(0,t.length-1);-1==t.indexOf("autoplay")&&(t+="&autoplay=1"),o="https://www.youtube.com/embed/"+i+"?"+t+"&enablejsapi=1",n.attr("src",o).removeAttr(g.lazyAttr),u.addClass(y.itemLoaded.substr(1))}else if(o.indexOf("vimeo")){u.addClass(y.itemLoading.substr(1));var s=o.substr(o.lastIndexOf("/")+1,9),a=o.substring(o.lastIndexOf("/")+11,o.length),r="";C.each({title:0,api:1,byline:0,transparent:0},function(e,t){-1==a.indexOf(e)&&(r+="&"+e+"="+t)}),-1!==(a=a.length?a+=r.substr(1):r.substr(1)).indexOf("autoplay=1")&&(a=a.replace("autoplay=1","")),-1!==a.indexOf("&&")&&(a=a.replace("&&","")),o="https://player.vimeo.com/video/"+s+"#"+a,n.attr("src",o).removeAttr(g.lazyAttr),d.script("https://player.vimeo.com/api/player.js",function(){f(u),new Vimeo.Player(n).play()})}},script:function(e,t){var i=!1,s=document.createElement("script");s.type="text/javascript",s.src=e,s.onload=s.onreadystatechange=function(){if(!(i||this.readyState&&"complete"!=this.readyState)){i=!0;"function"==typeof t&&t(t)}},document.body.appendChild(s)}},e=d[n.prop("tagName").toLowerCase()];void 0!==e&&e()})},log:function(e){if(null==e)return l.forEach(function(e){console.log(e)});var t=void 0,i=void 0;switch(e.type){case"err":t="Error",i="error";break;case"war":t="Precaución",i="warn";break;case"not":t="Notificación",i="info"}var s=new Date,a=s.getHours()+":"+s.getMinutes()+":"+s.getSeconds()+" | "+t+" : "+e.text;g.log?console[i]("Great Slider [Logger] : "+a):e.required&&console[i]("Great Slider [Logger] : "+a),l.push(a)},breakPoints:function(t,i){var s={},a=void 0;Object.keys(t).forEach(function(e){e<=i&&(C.extend(s,t[e]),a=e)}),Object.keys(s).length?n!==a&&(n=a,s=C.extend({},r,s),this.init(s)):0!==n&&(n=0,this.init(r))},goTo:function(e,t){var i=h.find(y.wrapperItems+" "+y.itemActive),s=i.index(),a=void 0;if("string"==typeof e)if(null==t&&(t=w),"next"==e)if(s==b.length-1)a=t.items-1;else{var r=b.length-(s+1);a=r<t.slideBy?s+r:s+t.slideBy}else if(s==t.slideBy-1)a=b.length-1;else{var n=s+1-t.slideBy;a=n<=t.slideBy?t.slideBy-1:s-t.slideBy}else if("number"==typeof e){var o=t,l=e-1;if(t=w,e>b.length)return this.log({type:"err",text:"No es posible ir a puesto de item mayor al numero de items disponibles.",required:!0});if(null==o&&e==s+1&&this.log({type:"not",text:"Ya nos encontramos en ese puesto ("+e+").",required:!0}),"swipe"==t.type&&l<s&&e-t.slideBy<0)return this.log({type:"err",text:'No es posible desplazarce al puesto "'+e+'", debido a que faltarían items a mostrar en pantalla.',required:!0});a=l}var d=i.find("video, audio");d.length&&d.each(function(){C(this).get(0).pause()});var u=i.find("iframe");u.length&&u.each(function(){var e=C(this).attr("src");if(-1!==e.indexOf("youtu"))C(this).get(0).contentWindow.postMessage('{"event":"command","func":"pauseVideo","args":""}',"*");else if(-1!==e.indexOf("vimeo")){new Vimeo.Player(C(this)).pause()}});var c=b.eq(a),f=y.itemActive.substr(1);if(c.addClass(f).siblings().removeClass(f),"swipe"==t.type){var v=100/t.items*(a+1)-100;v<0&&(v=0),h.find(y.wrapperItems).animate({"margin-left":"-"+v+"%"},t.navSpeed,function(){var e=t.onStep;void 0!==e&&e(a+1)})}if(a==x-1){var p=g.onLastItem;void 0!==p&&p()}if(t.lazyLoad)for(var m=a;m>a-t.items;)this.loadLazy(b.eq(m)),m--;if(!t.bullets)return!1;this.bullets(t,"active")},play:function(e){var t=this;null==e&&(e=w),void 0!==s&&"number"!=typeof s||(s=setInterval(function(){t.goTo("next")},e.autoplaySpeed));var i=w.onPlay;void 0!==i&&i()},stop:function(){clearInterval(s);var e=w.onStop;void 0!==e&&e()}};return t.init(g),t}}(jQuery);
//# sourceMappingURL=greatslider.jquery.min.js.map