"use strict";!function(A){A.fn.greatSlider=function(e){function l(e){e.addClass(y.itemLoaded.substr(1)),setTimeout(function(){e.removeClass(y.itemLoading.substr(1))},500)}function g(e,t,s){var i=void 0,a=void 0;switch(e){case"err":i="Error",a="error";break;case"war":i="Precaución",a="warn";break;case"not":i="Notificación",a="info"}var r=new Date,n=r.getHours()+":"+r.getMinutes()+":"+r.getSeconds()+" | "+i+" : "+t;b.log?console[a]("Great Slider [Logger] : "+n):s&&console[a]("Great Slider [Logger] : "+n),d.push(n)}var h=this;if(!h.length)return console.error("* Great Slider [Logger] : No existe el contenedor maestro para hacer el slider.");var b={type:"fade",nav:!0,navSpeed:500,items:1,slideBy:1,bullets:!0,autoplay:!1,autoplaySpeed:5e3,log:!1,lazyLoad:!0,lazyClass:"gs-lazy",lazyAttr:"data-lazy",layout:{containerItems:".gs-container-items",wrapperItems:".gs-wrapper-items",item:".gs-item-slider",itemActive:".gs-item-active",itemLoading:".gs-item-loading",itemLoaded:".gs-item-loaded",containerNavs:".gs-container-navs",wrapperArrows:".gs-wrapper-arrows",arrow:".gs-arrow-nav",arrowPrev:".gs-prev-arrow",arrowNext:".gs-next-arrow",wrapperBullets:".gs-wrapper-bullets",bullet:".gs-bullet",bulletActive:".gs-bullet-active",noneClass:"gs-none",attachedClass:"gs-attached"}};void 0!==e&&A.extend(b,e),"fade"==b.type&&delete b.breakPoints;var r=A.extend({},b);delete r.breakPoints,delete r.layout;var n=0,i=void 0,o=void 0,y=b.layout,w=h.find(y.item),C=w.length,u=y.attachedClass.substr(1),s=y.noneClass,d=[],x=void 0,t={init:function(e){var s=this;if((x=e).slideBy>e.items)return g("err","No es posible determinar que el pase por frame ("+e.slideBy+") sea mayor al mostrado de items ("+e.items+").",!0),!1;if(this.items(e),this.bullets(e),this.navs(e),h.hasClass(u))return!1;h.addClass(u);var t=b.onInit;void 0!==t&&t(),this.log({type:"not",text:"Slider Inicializandoce."});var i=e.breakPoints;void 0!==i&&(s.breakPoints(i,window.innerWidth),o=!1,A(window).resize(function(){!1!==o&&clearTimeout(o),o=setTimeout(function(){var e=window.innerWidth,t=b.onResized;void 0!==t&&t(e),s.breakPoints(i,e)},750)}));var a=b.onInited;void 0!==a&&a(),this.log({type:"not",text:"Slider Inicializado."});var r=e.startPosition;if(void 0!==r){if(C<r)return g("err",'No es posible iniciar en el item con posición "'+r+'" ya que esa posición sobrepasa el numero total de items existentes.',!0);this.goTo(r,!0)}e.autoplay&&this.play(e)},items:function(i){var a=this,r=h.find(y.wrapperItems),n=r.find(y.item);$firstItem=n.eq(0),iActivePure=y.itemActive.substr(1);var e={fade:function(){if(r.hasClass("gs-transition-fade"))return!1;r.addClass("gs-transition-fade"),$firstItem.addClass(iActivePure),i.lazyLoad&&a.loadLazy($firstItem)},swipe:function(){r.hasClass("gs-transition-swipe")||r.addClass("gs-transition-swipe");var e=i.items;if(r.css("width",100*C/e+"%"),w.css("width",100/C+"%"),i.lazyLoad)for(var t=0;t<e;)a.loadLazy(n.eq(t)),t++;var s=r.find(y.itemActive);s.length?s.index()<e-1?n.eq(e-1).addClass(iActivePure).siblings().removeClass(iActivePure):a.goTo(s.index()+1,!0):n.eq(e-1).addClass(iActivePure).siblings().removeClass(iActivePure)}}[i.type];void 0!==e?e(i):g("err","el tipo de slider determinado no es válido")},bullets:function(o,e){var t=this,l=h.find(y.wrapperBullets);if(!o.bullets)return l.hasClass(s)||l.addClass(s),!1;l.hasClass(s)&&l.removeClass(s);var d=y.bulletActive.substr(1);({constructor:function(){var e=l.find(y.bullet),t=e.prop("tagName").toLowerCase(),s="",i="fade"==o.type?C:C/o.items;if(i%1!=0&&(i=Math.floor(i)+1),e.length==i)return this.active(),!1;for(var a=0,r=this.active(!0);a<i;){var n=a!==r?"":" "+d;s+="<"+t+' class="'+y.bullet.substr(1)+n+'"></'+t+">",a++}l.html(s)},active:function(e){var t=h.find(y.wrapperItems+" "+y.itemActive).index(),s=y.bulletActive.substr(1),i=(t+1)/o.items;if(i%1!=0&&(i=Math.floor(i)+1),i-=1,e)return i;var a=h.find(y.bullet).eq(i);a.hasClass(s)||a.addClass(s).siblings().removeClass(s)},nav:function(){if(l.hasClass(u))return!1;l.addClass(u),l.on("click",y.bullet,function(){if(A(this).hasClass(d))return!1;A(this).addClass(d).siblings().removeClass(d);var e=(A(this).index()+1)*x.items;C<e&&(e=C),t.goTo(e)})},init:function(){this.constructor(),this.nav()}})[null==e?"init":e]()},navs:function(){var e=this,t=h.find(y.wrapperArrows);if(x.nav?t.hasClass(s)&&t.removeClass(s):t.hasClass(s)||t.addClass(s),t.hasClass(u))return!1;t.addClass(u),h.find(y.arrow).on("click",function(){e.goTo(A(this).hasClass(y.arrowNext.substr(1))?"next":"prev",x)})},loadLazy:function(o){var e=o.find("."+b.lazyClass);if(!e.length)return!1;var t=o.index(),s=b.onLoadingItem,i=b.onLoadedItem,d=y.itemLoaded.substr(1);e.each(function(){var r=A(this),n=r.attr(b.lazyAttr),e={img:function(){void 0!==n&&(o.addClass(y.itemLoading.substr(1)),void 0!==s&&s(r,t),r.attr("src",n).one({load:function(){void 0!==i&&i(r,t,"success"),l(o)},error:function(){void 0!==i&&i(r,t,"error"),l(o)}}).removeAttr(b.lazyAttr))},video:function(){o.hasClass(d)?r.get(0).play():(o.addClass(y.itemLoading.substr(1)),void 0!==s&&s(r,t),void 0!==n?r.attr("src",n).removeAttr(b.lazyAttr):r.find("source").each(function(){A(this).attr("src",A(this).attr(b.lazyAttr)).removeAttr(b.lazyAttr)}),r.get(0).load(),function e(t,s){var i=b.onLoadedItem;if(20<=(f+=.25))return void 0!==i&&i(s,t.index(),"error"),l(t),!1;var a=s.get(0);4==a.readyState?(a.play(),l(t),void(f=0)!==i&&i(s,t.index(),"success")):setTimeout(function(){e(t,s)},250)}(o,r))},iframe:function(){if(o.hasClass(d))-1!==r.attr("src").indexOf("youtu")&&r.get(0).contentWindow.postMessage('{"event":"command","func":"playVideo","args":""}',"*");else{if(-1!==n.indexOf("youtu")){var e=void 0,t=void 0;if(-1!==n.indexOf("watch")&&(t=n.substr(n.indexOf("=")+1,11),e=n.substr(n.indexOf("=")+12)),-1!==n.indexOf("youtu.be")&&(t=n.substr(n.lastIndexOf("/")+1,11),e=(e=n.substr(n.lastIndexOf("/")+12)).substr(1)),-1!==n.indexOf("embed")&&(t=n.substr(n.lastIndexOf("/")+1,11),e=(e=n.substr(n.lastIndexOf("/")+12)).substr(1)),"&"==e.substring(0,1)&&(e=e.substr(1)),-1==e.indexOf("rt=")&&-1!==e.indexOf("t="))if(-1!==(e=e.replace("t=","start=")).indexOf("&")){var l=[];A.each(e.split("&"),function(e,t){var s=t.split("=");if("start"==s[0]){var i=s[1],a=i.indexOf("m"),r=i.indexOf("s"),n=0,o=0;-1!==a?(n=60*Number(i.substring(0,a)),a+=1):a=0,-1!==r&&(o=Number(i.substring(a,r))),l.push("start="+(n+o))}else l.push(t)}),e=l.join("&")}else e=e.substring(0,e.length-1);-1==e.indexOf("autoplay")&&(e+="&autoplay=1"),n="https://www.youtube.com/embed/"+t+"?"+e+"&enablejsapi=1"}else if(n.indexOf("vimeo")){var s=n.substr(n.lastIndexOf("/")+1,9),i=n.substring(n.lastIndexOf("/")+11,n.length),a="";A.each({title:0,api:1,byline:0,transparent:0,autoplay:1},function(e,t){-1==i.indexOf(e)&&(a+="&"+e+"="+t)}),i=i.length?i+=a.substr(1):a.substr(1),n="https://player.vimeo.com/video/"+s+"#"+i}r.attr("src",n).removeAttr(b.lazyAttr),o.addClass(y.itemLoaded.substr(1))}}}[r.prop("tagName").toLowerCase()];void 0!==e&&e()})},log:function(e){if(null==e)return d.forEach(function(e){console.log(e)});g(e.type,e.text)},breakPoints:function(t,s){var i={},a=void 0;Object.keys(t).forEach(function(e){e<=s&&(A.extend(i,t[e]),a=e)}),Object.keys(i).length?n!==a&&(n=a,i=A.extend({},r,i),this.init(i)):0!==n&&(n=0,this.init(r))},goTo:function(e,t){var s=h.find(y.wrapperItems+" "+y.itemActive),i=s.index(),a=void 0;if("string"==typeof e)if(null==t&&(t=x),"next"==e)if(i==w.length-1)a=t.items-1;else{var r=w.length-(i+1);a=r<t.slideBy?i+r:i+t.slideBy}else if(i==t.slideBy-1)a=w.length-1;else{var n=i+1-t.slideBy;a=n<=t.slideBy?t.slideBy-1:i-t.slideBy}else if("number"==typeof e){var o=t,l=e-1;if(t=x,e>w.length)return g("err","No es posible ir a puesto de item mayor al numero de items disponibles.",!0);if(null==o&&e==i+1)return g("not","Ya nos encontramos en ese puesto.",!0);if("swipe"==t.type&&l<i&&e-t.slideBy<0)return g("err",'No es posible desplazarce al puesto "'+e+'", debido a que faltarían items a mostrar en pantalla.',!0);a=l}var d=s.find("video, audio");d.length&&d.each(function(){A(this).get(0).pause()});var u=s.find("iframe");u.length&&u.each(function(){-1!==A(this).attr("src").indexOf("youtu")&&A(this).get(0).contentWindow.postMessage('{"event":"command","func":"pauseVideo","args":""}',"*")});var f=w.eq(a),c=y.itemActive.substr(1);if(f.addClass(c).siblings().removeClass(c),"swipe"==t.type){var v=100/t.items*(a+1)-100;v<0&&(v=0),h.find(y.wrapperItems).animate({"margin-left":"-"+v+"%"},t.navSpeed,function(){var e=t.onStep;void 0!==e&&e(a+1)})}if(a==C-1){var m=b.onLastItem;void 0!==m&&m()}if(t.lazyLoad)for(var p=a;p>a-t.items;)this.loadLazy(w.eq(p)),p--;if(!t.bullets)return!1;this.bullets(t,"active")},play:function(e){var t=this;null==e&&(e=x),void 0!==i&&"number"!=typeof i||(i=setInterval(function(){t.goTo("next")},e.autoplaySpeed));var s=x.onPlay;void 0!==s&&s()},stop:function(){clearInterval(i);var e=x.onStop;void 0!==e&&e()}},f=0;return t.init(b),t}}(jQuery);
//# sourceMappingURL=greatslider.jquery.min.js.map