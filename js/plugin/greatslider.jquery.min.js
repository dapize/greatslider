"use strict";!function(){var e={supportsFullScreen:!1,isFullScreen:function(){return!1},requestFullScreen:function(){},cancelFullScreen:function(){},fullScreenEventName:"",prefix:""},t="webkit moz o ms khtml".split(" ");if(void 0!==document.cancelFullScreen)e.supportsFullScreen=!0;else for(var s=t.length,i=0;i<s;i++){var r=t[i];if(void 0!==document[r+"CancelFullScreen"]){e.supportsFullScreen=!0,e.prefix=r;break}}e.supportsFullScreen&&(e.fullScreenEventName=e.prefix+"fullscreenchange",e.isFullScreen=function(){switch(this.prefix){case"":return document.fullScreen;case"webkit":return document.webkitIsFullScreen;default:return document[this.prefix+"FullScreen"]}},e.requestFullScreen=function(e){return""===this.prefix?e.requestFullScreen():e[this.prefix+"RequestFullScreen"]()},e.cancelFullScreen=function(e){return""===this.prefix?document.cancelFullScreen():document[this.prefix+"CancelFullScreen"]()}),window.fullScreenApi=e}(),function(S){S.fn.greatSlider=function(e){function f(e){e.addClass(y.itemLoadedClass),setTimeout(function(){e.removeClass(y.itemLoadingClass)},500)}var t=this,g=this;if(!g.length)return console.error("* Great Slider [Logger] : No existe el contenedor maestro para hacer el slider.");var h={type:"fade",nav:!0,navSpeed:500,items:1,slideBy:1,bullets:!0,autoplay:!1,autoplaySpeed:5e3,log:!1,fullscreen:!1,lazyLoad:!0,lazyClass:"gs-lazy",lazyAttr:"data-lazy",layout:{containerItems:".gs-container-items",wrapperItems:".gs-wrapper-items",itemClass:"gs-item-slider",itemActiveClass:"gs-item-active",itemLoadingClass:"gs-item-loading",itemLoadedClass:"gs-item-loaded",containerNavs:".gs-container-navs",wrapperArrows:".gs-wrapper-arrows",arrowPrev:".gs-prev-arrow",arrowNext:".gs-next-arrow",wrapperBullets:".gs-wrapper-bullets",bulletClass:"gs-bullet",bulletActiveClass:"gs-bullet-active",fsButton:".gs-fs",fsInClass:"gs-infs",fsOutClass:"gs-outfs",noneClass:"gs-none",attachedClass:"gs-attached"}};void 0!==e&&S.extend(h,e),"fade"==h.type&&delete h.breakPoints;var a=S.extend({},h);delete a.breakPoints,delete a.layout;var n=0,i=void 0,l=void 0,y=h.layout,C=g.find("."+y.itemClass),b=C.length,d=y.attachedClass,r=y.noneClass,o=[],u=!1,x=void 0;if(!b)return console.error("* Great Slider [Logger] : No existen items para crear el slider :V");var v=0,s={init:function(e){var s=this;if((x=e).slideBy>e.items)return this.log({type:"err",text:"No es posible determinar que el pase por frame ("+e.slideBy+") sea mayor al mostrado de items ("+e.items+").",required:!0}),!1;if(this.items(e),this.bullets(e),this.navs(e),this.fullscreen(e),g.hasClass(d))return!1;g.addClass(d);var t=h.onInit;void 0!==t&&t(),this.log({type:"not",text:"Slider Inicializandoce."});var i=e.breakPoints;void 0!==i&&(s.breakPoints(i,window.innerWidth),l=!1,S(window).resize(function(){!1!==l&&clearTimeout(l),l=setTimeout(function(){var e=window.innerWidth,t=h.onResized;void 0!==t&&t(e),s.breakPoints(i,e)},750)}));var r=h.onInited;void 0!==r&&r(),this.log({type:"not",text:"Slider Inicializado."});var a=e.startPosition;if(void 0!==a){if(b<a)return this.log({type:"err",text:'No es posible iniciar en el item con posición "'+a+'" ya que esa posición sobrepasa el numero total de items existentes.',required:!0});this.goTo(a,!0)}e.autoplay&&this.play(e)},items:function(i){var r=this,a=g.find(y.wrapperItems),n=a.find("."+y.itemClass);$firstItem=n.eq(0),iActivePure=y.itemActiveClass;var e={fade:function(){if(a.hasClass("gs-transition-fade"))return!1;a.addClass("gs-transition-fade"),$firstItem.addClass(iActivePure),i.lazyLoad&&r.loadLazy($firstItem)},swipe:function(){a.hasClass("gs-transition-swipe")||a.addClass("gs-transition-swipe");var e=i.items;if(a.css("width",100*b/e+"%"),C.css("width",100/b+"%"),i.lazyLoad)for(var t=0;t<e;)r.loadLazy(n.eq(t)),t++;var s=a.find("."+y.itemActiveClass);s.length?s.index()<e-1?n.eq(e-1).addClass(iActivePure).siblings().removeClass(iActivePure):r.goTo(s.index()+1,!0):n.eq(e-1).addClass(iActivePure).siblings().removeClass(iActivePure)}}[i.type];void 0!==e?e(i):this.log({type:"err",text:"el tipo de slider determinado no es válido",required:!0})},bullets:function(l,e){var t=this,o=g.find(y.wrapperBullets);if(!l.bullets)return o.hasClass(r)||o.addClass(r),!1;o.hasClass(r)&&o.removeClass(r);var u=y.bulletActiveClass;({constructor:function(){var e=o.find("."+y.bulletClass).eq(0),t=e.prop("tagName").toLowerCase(),s="",i="fade"==l.type?b:b/l.items;if(i%1!=0&&(i=Math.floor(i)+1),e.length==i)return this.active(),!1;for(var r=0,a=this.active(!0);r<i;){var n=r!==a?"":" "+u;s+="<"+t+' class="'+y.bulletClass+n+'"></'+t+">",r++}o.html(s)},active:function(e){var t=(g.find(y.wrapperItems+" ."+y.itemActiveClass).index()+1)/l.items;if(t%1!=0&&(t=Math.floor(t)+1),t-=1,e)return t;var s=g.find("."+y.bulletClass).eq(t);s.hasClass(u)||s.addClass(u).siblings().removeClass(u)},nav:function(){if(o.hasClass(d))return!1;o.addClass(d),o.on("click","."+y.bulletClass,function(){if(S(this).hasClass(u))return!1;S(this).addClass(u).siblings().removeClass(u);var e=(S(this).index()+1)*x.items;b<e&&(e=b),t.goTo(e)})},init:function(){this.constructor(),this.nav()}})[null==e?"init":e]()},navs:function(){var e=this,t=g.find(y.wrapperArrows);if(x.nav?t.hasClass(r)&&t.removeClass(r):t.hasClass(r)||t.addClass(r),t.hasClass(d))return!1;t.addClass(d),g.find(y.arrowPrev).on("click",function(){e.goTo("prev",x)}),g.find(y.arrowNext).on("click",function(){e.goTo("next",x)})},loadLazy:function(d){var e=d.find("."+h.lazyClass);if(!e.length)return!1;var t=d.index(),s=h.onLoadingItem,i=h.onLoadedItem,c=y.itemLoadedClass;e.each(function(){var n=S(this),l=n.attr(h.lazyAttr),u={img:function(){void 0!==l&&(d.addClass(y.itemLoadingClass),void 0!==s&&s(n,t),n.attr("src",l).one({load:function(){void 0!==i&&i(n,t,"success"),f(d)},error:function(){void 0!==i&&i(n,t,"error"),f(d)}}).removeAttr(h.lazyAttr))},video:function(){d.hasClass(c)?n.get(0).play():(d.addClass(y.itemLoadingClass),void 0!==s&&s(n,t),void 0!==l?n.attr("src",l).removeAttr(h.lazyAttr):n.find("source").each(function(){S(this).attr("src",S(this).attr(h.lazyAttr)).removeAttr(h.lazyAttr)}),n.get(0).load(),function e(t,s){var i=h.onLoadedItem;if(20<=(v+=.25))return void 0!==i&&i(s,t.index(),"error"),f(t),!1;var r=s.get(0);4==r.readyState?(r.play(),f(t),void(v=0)!==i&&i(s,t.index(),"success")):setTimeout(function(){e(t,s)},250)}(d,n))},iframe:function(){if(d.hasClass(c)){var e=n.attr("src");if(-1!==e.indexOf("youtu"))n.get(0).contentWindow.postMessage('{"event":"command","func":"playVideo","args":""}',"*");else if(-1!==e.indexOf("vimeo")){new Vimeo.Player(n).play()}}else if(-1!==l.indexOf("youtu")){var t=void 0,s=void 0;if(-1!==l.indexOf("watch")&&(s=l.substr(l.indexOf("=")+1,11),t=l.substr(l.indexOf("=")+12)),-1!==l.indexOf("youtu.be")&&(s=l.substr(l.lastIndexOf("/")+1,11),t=(t=l.substr(l.lastIndexOf("/")+12)).substr(1)),-1!==l.indexOf("embed")&&(s=l.substr(l.lastIndexOf("/")+1,11),t=(t=l.substr(l.lastIndexOf("/")+12)).substr(1)),"&"==t.substring(0,1)&&(t=t.substr(1)),-1==t.indexOf("rt=")&&-1!==t.indexOf("t="))if(-1!==(t=t.replace("t=","start=")).indexOf("&")){var o=[];S.each(t.split("&"),function(e,t){var s=t.split("=");if("start"==s[0]){var i=s[1],r=i.indexOf("m"),a=i.indexOf("s"),n=0,l=0;-1!==r?(n=60*Number(i.substring(0,r)),r+=1):r=0,-1!==a&&(l=Number(i.substring(r,a))),o.push("start="+(n+l))}else o.push(t)}),t=o.join("&")}else t=t.substring(0,t.length-1);-1==t.indexOf("autoplay")&&(t+="&autoplay=1"),l="https://www.youtube.com/embed/"+s+"?"+t+"&enablejsapi=1",n.attr("src",l).removeAttr(h.lazyAttr),d.addClass(y.itemLoadedClass)}else if(l.indexOf("vimeo")){d.addClass(y.itemLoadingClass);var i=l.substr(l.lastIndexOf("/")+1,9),r=l.substring(l.lastIndexOf("/")+11,l.length),a="";S.each({title:0,api:1,byline:0,transparent:0},function(e,t){-1==r.indexOf(e)&&(a+="&"+e+"="+t)}),-1!==(r=r.length?r+=a.substr(1):a.substr(1)).indexOf("autoplay=1")&&(r=r.replace("autoplay=1","")),-1!==r.indexOf("&&")&&(r=r.replace("&&","")),l="https://player.vimeo.com/video/"+i+"#"+r,n.attr("src",l).removeAttr(h.lazyAttr),u.script("https://player.vimeo.com/api/player.js",function(){f(d),new Vimeo.Player(n).play()})}},script:function(e,t){var s=!1,i=document.createElement("script");i.type="text/javascript",i.src=e,i.onload=i.onreadystatechange=function(){if(!(s||this.readyState&&"complete"!=this.readyState)){s=!0;"function"==typeof t&&t(t)}},document.body.appendChild(i)}},e=u[n.prop("tagName").toLowerCase()];void 0!==e&&e()})},log:function(e){if(null==e)return o.forEach(function(e){console.log(e)});var t=void 0,s=void 0;switch(e.type){case"err":t="Error",s="error";break;case"war":t="Precaución",s="warn";break;case"not":t="Notificación",s="info"}var i=new Date,r=i.getHours()+":"+i.getMinutes()+":"+i.getSeconds()+" | "+t+" : "+e.text;h.log?console[s]("Great Slider [Logger] : "+r):e.required&&console[s]("Great Slider [Logger] : "+r),o.push(r)},breakPoints:function(t,s){var i={},r=void 0;Object.keys(t).forEach(function(e){e<=s&&(S.extend(i,t[e]),r=e)}),Object.keys(i).length?n!==r&&(n=r,i=S.extend({},a,i),this.init(i)):0!==n&&(n=0,this.init(a))},goTo:function(e,t){var s=g.find(y.wrapperItems+" ."+y.itemActiveClass),i=s.index(),r=void 0;if("string"==typeof e)if(null==t&&(t=x),"next"==e)if(i==C.length-1)r=t.items-1;else{var a=C.length-(i+1);r=a<t.slideBy?i+a:i+t.slideBy}else if(i==t.slideBy-1)r=C.length-1;else{var n=i+1-t.slideBy;r=n<=t.slideBy?t.slideBy-1:i-t.slideBy}else if("number"==typeof e){var l=t,o=e-1;if(t=x,e>C.length)return this.log({type:"err",text:"No es posible ir a puesto de item mayor al numero de items disponibles.",required:!0});if(null==l&&e==i+1&&this.log({type:"not",text:"Ya nos encontramos en ese puesto ("+e+").",required:!0}),"swipe"==t.type&&o<i&&e-t.slideBy<0)return this.log({type:"err",text:'No es posible desplazarce al puesto "'+e+'", debido a que faltarían items a mostrar en pantalla.',required:!0});r=o}var u=s.find("video, audio");u.length&&u.each(function(){S(this).get(0).pause()});var d=s.find("iframe");d.length&&d.each(function(){var e=S(this).attr("src");if(-1!==e.indexOf("youtu"))S(this).get(0).contentWindow.postMessage('{"event":"command","func":"pauseVideo","args":""}',"*");else if(-1!==e.indexOf("vimeo")){new Vimeo.Player(S(this)).pause()}});var c=C.eq(r),f=y.itemActiveClass;if(c.addClass(f).siblings().removeClass(f),"swipe"==t.type){var v=100/t.items*(r+1)-100;v<0&&(v=0),g.find(y.wrapperItems).animate({"margin-left":"-"+v+"%"},t.navSpeed,function(){var e=t.onStep;void 0!==e&&e(r+1)})}if(r==b-1){var p=h.onLastItem;void 0!==p&&p()}if(t.lazyLoad)for(var m=r;m>r-t.items;)this.loadLazy(C.eq(m)),m--;if(!t.bullets)return!1;this.bullets(t,"active")},play:function(e){var t=this;null==e&&(e=x),void 0!==i&&"number"!=typeof i||(i=setInterval(function(){t.goTo("next")},e.autoplaySpeed));var s=x.onPlay;void 0!==s&&s()},stop:function(){clearInterval(i);var e=x.onStop;void 0!==e&&e()},fullscreen:function(s){if("string"==typeof s){if(fullScreenApi.supportsFullScreen){var e={in:function(){fullScreenApi.requestFullScreen(g.get(0))},out:function(){fullScreenApi.cancelFullScreen(g.get(0))},check:function(){return fullScreenApi.isFullScreen()}}[s];return void 0!==e?e():t.log({type:"not",text:'la orden "'+s+'" del metodo fullscreen no es valida.',required:!0})}return t.log({type:"war",text:"El dispositivo actual no soporta Full Screen.",required:!0})}var i=g.find(y.fsButton);if(s.fullscreen){if(!fullScreenApi.supportsFullScreen)return t.log({type:"war",text:"El dispositivo actual no soporta Full Screen.",required:!0});i.hasClass(r)&&i.removeClass(r)}else i.hasClass(r)||i.addClass(r);if(i.hasClass(d))return!1;i.addClass(d),i.on("click",function(e){e.preventDefault(),u?(u=!1,fullScreenApi.cancelFullScreen(g.get(0))):(u=!0,fullScreenApi.requestFullScreen(g.get(0)))}),S(document).on(fullScreenApi.fullScreenEventName,function(){if(fullScreenApi.isFullScreen()){g.addClass(y.fsInClass),i.addClass(y.fsInClass);var e=s.onFullscreenIn;void 0!==e&&e()}else{g.removeClass(y.fsInClass),i.removeClass(y.fsInClass);var t=s.onFullscreenOut;void 0!==t&&t()}})}};return s.init(h),s}}(jQuery);
//# sourceMappingURL=greatslider.jquery.min.js.map